{% extends '../layout/dash_base_docente.html' %} 
{% load static %}
{% load crispy_forms_tags %}

{% block content %}  


<div class="input-group">
    <button class="btn btnnav" type="button" id="button-addon2" onclick="goBack()"><i class="fa-solid fa-chevron-left"></i></button>
    <div class="col text-center text-bg-dark">
        <h1>Modificar Salida a Terreno</h1>
    </div>
    <button class="btn btnnav" type="button" id="button-addon2"><i class="fa-solid fa-question"></i></button>
</div>

<div class="container justify-content-center py-4">
    <div class="card p-4">
        <form method="post" action="{% if instance %}{% url 'editar_salida' instance.id %}{% endif %}" id="myForm">

            {% csrf_token %}
            <div class="d-flex align-items-center pb-3">
                <label style="margin-right: 12px;" for="">Situacion: </label>
                {{ form.situacion }}
            </div>

            <hr>

            <div class="pb-3">
                <div class="form-floating">
                    {{ form.numero_cuenta }}
                    <label class="form-label" for="typeNumber">Numero de cuenta...</label>
                </div>
            </div>

            <hr>

            <div class="d-flex align-items-center pb-3">
                <label style="margin-right: 12px;" for="">Semestre:</label>
                {{ form.semestre }}
            </div>

            <hr>


            <div class="pb-3">
                <div class="form-floating">
                    {{ form.anio }}
                    <label for="floatingTextarea">Año...</label>
                </div>
            </div>

            <hr>
            
            <div class="pb-3">
                <div class="form-floating">
                    {{ form.semana }}
                    <label for="floatingTextarea">Semana...</label>
                </div>
            </div>

            <hr>

            <div class="d-flex align-items-center pb-3">
                <label style="margin-right: 12px;" for="">Actividad:</label>
                {{ form.actividad }}
            </div>

            <hr>
            
            <div class="d-flex pb-3">
                <label for="fecha">Fecha Ingreso:</label>
                <input type="date" class="form-control" id="id_fecha_ingreso" name="fecha_ingreso" value="{{ form.fecha_ingreso.value|date:'Y-m-d' }}">
            </div>
            
            <div class="d-flex pb-3">
                <label for="fecha">Fecha Termino:</label>
                <input type="date" class="form-control" id="id_fecha_termino" name="fecha_termino" value="{{ form.fecha_termino.value|date:'Y-m-d' }}">
            </div>

            <hr>
            
            <div class="d-flex pb-3">
                <div class="form-floating mgr">
                    {{ form.dias }}
                    <label for="floatingTextarea">Dias...</label>
                </div>

                <hr>
            
                <div class="form-floating">
                    {{ form.noches }}
                    <label for="floatingTextarea">Noches...</label>
                </div>
            </div>

            <hr>
            <p class='h5'>DÍAS  SEMANA:</p>

        {% for checkbox in form.diasemana %}
        <div class="form-check form-check-inline">
        {{ checkbox.tag }}
        <label class="form-check-label" for="{{ checkbox.id_for_label }}">{{ checkbox.choice_label }}</label>
        </div>
        {% endfor %}

        <hr>


            
        
            <div class="form-floating pb-3">
                {{ form.lugar_ejecucion }}
                <label for="floatingTextarea">Lugar de Ejecucion...</label>
            </div>

            <hr>

            <div class="d-flex align-items-center pb-3">
                <label style="margin-right: 12px;" for="">Asignatura:</label>
                {{ form.asignatura }}
            </div>

            <hr>

            <div class="d-flex align-items-center pb-3">
                <label style="margin-right: 12px;" for="">Exp. de aprendizaje:</label>
                {{ form.exp_aprendizaje }}
            </div>

            <hr>

            <div class="form-floating pb-3">
                {{ form.num_alumnos }}
                <label class="form-label" for="typeNumber">Numero de alumnos</label>
            </div>

            <hr>


            <p class='h4'>Seccion por docente:</p>

                {% for checkbox in form.seccion %}
                <div class="form-check">
                    {{ checkbox.tag }}
                    <label class="form-check-label" for="{{ checkbox.id_for_label }}">
                        {{ checkbox.choice_label }}
                    </label>
                </div>
                {% endfor %}

                <hr>

            <div class="d-flex align-items-center pb-3">
                <label style="margin-right: 12px;" for="">Docente titular:</label>
                {{ form.docente_titular }}
            </div>
            
            <hr>

            <p class='h5'>Docentes de apoyo...:</p>

            {% for checkbox in form.docentes_apoyo %}
            <div class="form-check">
                {{ checkbox.tag }}
                <label class="form-check-label" for="{{ checkbox.id_for_label }}">
                    {{ checkbox.choice_label }}
                </label>
            </div>
            {% endfor %}


            <hr>




            

            <div class="form-floating pb-3">
                {{ form.num_salida }}
                <label class="form-label" for="typeNumber">Numero de salida</label>
            </div>


            <hr>


            <p class='h5'>Asig. comp. terreno:</p>

            {% for checkbox in form.asig_comp_terreno %}
            <div class="form-check">
                {{ checkbox.tag }}
                <label class="form-check-label" for="{{ checkbox.id_for_label }}">
                    {{ checkbox.choice_label }}
                </label>
            </div>
            {% endfor %}


            <hr>
            
            <div class="form-floating pb-3">
                {{ form.observaciones }}
                <label for="floatingTextarea2">Observaciones...</label>
            </div>


            <hr>
            
            <div class="d-grid gap-2 col-6 mx-auto">
                <button class="btn btnagre" type="button" onclick="{{ form.listar_alumnos.action }}">Listar Alumnos</button>
                <button class="btn btnagre" type="submit">Modificar salida a Terreno <i class="fa-regular fa-square-plus mas"></i></button>
            </div>


        </script>
            
        <script>
            function submitForm() {
                // Obtener todos los campos de entrada del formulario
                var formElements = document.getElementById("myForm").elements;
        
                // Verificar si algún campo está vacío
                for (var i = 0; i < formElements.length; i++) {
                    if (formElements[i].type !== "button" && formElements[i].value === "") {
                        alert("Por favor, complete todos los campos antes de enviar el formulario.");
                        return false; // Evita que el formulario se envíe si hay campos vacíos
                    }
                }
        
                // Enviar el formulario si todos los campos están completos
                document.getElementById("myForm").submit();
            }
        </script>

            </form>
            </div>
            </div>
            

    {% if success %}
        <script>
        alert("La Salida a terreno se guardó correctamente!");
        </script>
    {% endif %}


    

{% endblock %}